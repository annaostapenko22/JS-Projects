{"version":3,"sources":["webpack:///./task.hbs","webpack:///./services.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","uniqueID","call","priority","title","description","stack1","program","noop","axios","defaults","baseURL","obj","post","err","Error","get","error","console","log","id","delete","refs","form","document","querySelector","todoList","insertTodoTask","todoTask","taskItem","getTask","insertAdjacentHTML","addEventListener","evt","target","currentTarget","removeChild","closest","services","deleteItem","elem","task","async","preventDefault","elements","shortid","generate","value","addItem","name","window","onload","res","getAllItems","items","Object","entries","forEach"],"mappings":"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","file":"main.2059e5250f94f8b9e925.js","sourcesContent":["var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li id=\"\n    + alias4(((helper = (helper = helpers.uniqueID || (depth0 != null ? depth0.uniqueID : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"uniqueID\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":7},\"end\":{\"line\":2,\"column\":19}}}) : helper)))\n    + \" class=\"\n    + alias4(((helper = (helper = helpers.priority || (depth0 != null ? depth0.priority : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"priority\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":26},\"end\":{\"line\":2,\"column\":38}}}) : helper)))\n    + \">\\r\\n    <h2>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":8},\"end\":{\"line\":3,\"column\":17}}}) : helper)))\n    + \"</h2>\\r\\n    <p>\"\n    + alias4(((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"description\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":7},\"end\":{\"line\":4,\"column\":22}}}) : helper)))\n    + \"</p>\\r\\n    <button class=\\\"deleteBtn\\\">Delete</button>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"with\"].call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"with\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":7,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://todo-js-31da0.firebaseio.com/todo';\r\nexport default {\r\n  async addItem(obj) {\r\n    try {\r\n     return axios.post('/todo.json', obj);\r\n    } catch (err) {\r\n      throw new Error();\r\n    }\r\n  },\r\n  async getAllItems(){\r\n    try {\r\n        return await axios.get('/todo.json');\r\n      } catch (error) {\r\n        console.log(error);\r\n        throw new Error(error);\r\n      }\r\n  },\r\n  async deleteItem(id){\r\n    try {\r\n        return await axios.delete(`/todo/${id}.json`);\r\n      } catch (error) {\r\n        console.log(error);\r\n        throw new Error(error);\r\n      }\r\n    },\r\n\r\n  }\r\n\r\n","import shortid from 'short-id';\r\nimport task from './task.hbs';\r\nimport './style.css';\r\nimport services from './services';\r\nconst refs = {\r\n  form: document.querySelector('#todoForm'),\r\n  todoList: document.querySelector('ul.todoList'),\r\n};\r\n\r\nconst getTodo = async evt => {\r\n  evt.preventDefault();\r\n  const [title, description, priority] = evt.target.elements;\r\n  const todoTask = {\r\n    id: shortid.generate(),\r\n    title: title.value,\r\n    description: description.value,\r\n    priority: priority.value,\r\n  };\r\n\r\n  const res = await services.addItem(todoTask);\r\n  const uniqueID = res.data.name;\r\n  insertTodoTask(todoTask, uniqueID);\r\n  title.value = \"\";\r\n  description.value = \"\";\r\n  priority.value = \"low\";\r\n};\r\n\r\nconst insertTodoTask = (todoTask, uniqueID) => {\r\n  const taskItem = getTask({ ...todoTask, uniqueID });\r\n  refs.todoList.insertAdjacentHTML('beforeend', taskItem);\r\n\r\n  let deleteBtn = document.querySelector(`#${uniqueID} .deleteBtn`);\r\n\r\n  deleteBtn.addEventListener('click', evt => {\r\n    const target = evt.currentTarget;\r\n    refs.todoList.removeChild(target.closest('li'));\r\n    services.deleteItem(uniqueID);\r\n  });\r\n};\r\n\r\nconst getTask = elem => {\r\n  const taskItem = task(elem);\r\n  return taskItem;\r\n};\r\n\r\nrefs.form.addEventListener('submit', getTodo);\r\nwindow.onload = async () => {\r\n  const res = await services.getAllItems();\r\n  const items = Object.entries(res.data);\r\n  items.forEach(elem => {\r\n    insertTodoTask(elem[1], elem[0]);\r\n  });\r\n  console.log('sdfg', items);\r\n};\r\n"],"sourceRoot":""}